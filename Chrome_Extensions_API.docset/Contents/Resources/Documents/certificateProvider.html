<!DOCTYPE html>
<html><head>
<link href="assets/site.css" rel="stylesheet" type="text/css">
<meta charset="utf-8" />
</head><body><div>
<main id="gc-pagecontent" role="main">
<main id="gc-pagecontent" role="main">


<article>
  <div itemprop="articleBody" class="api">
    <h1>chrome.certificateProvider</h1>
    <table class="intro" id="intro">
      <tbody><tr>
        <td class="title">Description:</td>
        <td>
             Use this API to expose certificates to the platform which can use these
             certificates for TLS authentications.
                    <br>
        </td>
      </tr>
      <tr>
        <td class="title">Availability:</td>
        <td>
            Since Chrome 46.
            <br>
        </td>
      </tr>
      <tr>
        <td class="title">Permissions:</td>
        <td>
            <span class="code">
            &quot;certificateProvider&quot;
                    </span>
            <br>
        </td>
      </tr>
    </tbody></table>
    <p class="caution">
      <b>Important:</b>
      This API works <b>only on Chrome OS</b>.
    </p>
    <section>
      <h2 id="usage">Usage</h2>
      
      <p>
      Typical usage of this API to expose client certificates to Chrome OS follows these steps:
      </p>
      
      <ul>
        <li>The Extension registers for the events
          <a href="#event-onCertificatesUpdateRequested">onCertificatesUpdateRequested</a> and <a href="#event-onSignatureRequested">onSignatureRequested</a>.
        </li>
        <li>The Extension calls <a href="#method-setCertificates">setCertificates</a> to provide the initial list of
          certificates after the initialization.
        </li>
        <li>The Extension monitors the changes in the list of available certificates
          and calls <a href="#method-setCertificates">setCertificates</a> to notify the browser about every such
          change.
        </li>
        <li>During a TLS handshake, the browser receives a client certificate request.
          With an <a href="#event-onCertificatesUpdateRequested">onCertificatesUpdateRequested</a> event, the browser asks the
          Extension to report all certificates that it currently provides.
        </li>
        <li>The Extension reports back with the currently available certificates,
          using the <a href="#method-setCertificates">setCertificates</a> method.
        </li>
        <li>The browser matches all available certificates with the client certificate
          request from the remote host. The matches are presented to the user in a
          selection dialog.
        </li>
        <li>The user can select a certificate and thereby approve the authentication
          or abort the authentication.
        <p>
        <img src="assets/certificate_provider_selection_dialog.png" align="middle" width="443" height="264" alt="Certificate selection dialog">
        </p>
        </li>
        <li>If the user aborts the authentication or no certificate matched the
          request, the TLS client authentication is aborted.
        </li>
        <li>Otherwise, if the user approves the authentication with a certificate
          provided by this Extension, the browser requests the Extension to sign the
          data to continue the TLS handshake. The request is sent as a
          <a href="#event-onSignatureRequested">onSignatureRequested</a> event.
        </li>
        <li>This event contains input data, declares which algorithm has to be used to
          generate the signature, and refers to one of the certificates that were
          reported by this Extension. The Extension must create a signature for the
          given data using the private key associated with the referenced certificate.
          Creating the signature might require prepending a DigestInfo and padding the
          result before the actual signing.
        </li>
        <li>The Extension sends back the signature to the browser using the
          <a href="#method-reportSignature">reportSignature</a> method. If the signature couldn&apos;t be calculated, the
          method has to be called without signature.
        </li>
        <li>If the signature was provided, the browser completes the TLS handshake.
        </li>
      </ul>
      
      <p>
      The actual sequence of steps can be different. For example, the user will not be
      asked to select a certificate if the enterprise policy to automatically select a
      certificate is used (see
      <a href="https://cloud.google.com/docs/chrome-enterprise/policies/?policy=AutoSelectCertificateForUrls">AutoSelectCertificateForUrls</a>
      and
      <a href="https://support.google.com/chrome/a/answer/2657289?hl=en#AutoSelectCertificateForUrls">Chrome policies for users</a>).
      </p>
      
      <p>
      In the Extension, this can look similar to the following snippet:
      </p>
      
      <pre data-filename="background.js">      function collectAvailableCertificates() {
        // Return all certificates that this Extension can currently provide.
        // For example:
        return [{
          certificateChain: [new Uint8Array(...)],
          supportedAlgorithms: [&apos;RSASSA_PKCS1_v1_5_SHA256&apos;]
        }];
      }
      
      // The Extension calls this function every time the currently available list of
      // certificates changes, and also once after the Extension&apos;s initialization.
      function onAvailableCertificatesChanged() {
        chrome.certificateProvider.setCertificates({
          clientCertificates: collectAvailableCertificates()
        });
      }
      
      function handleCertificatesUpdateRequest(request) {
        // Report the currently available certificates as a response to the request
        // event. This is important for supporting the case when the Extension is
        // unable to detect the changes proactively.
        chrome.certificateProvider.setCertificates({
          certificatesRequestId: request.certificatesRequestId,
          clientCertificates: collectAvailableCertificates()
        });
      }
      
      // Returns a private key handle for the given DER-encoded certificate.
      // |certificate| is an ArrayBuffer.
      function getPrivateKeyHandle(certificate) {...}
      
      // Digests and signs |input| with the given private key. |input| is an
      // ArrayBuffer. |algorithm| is an <a href="#type-Algorithm">Algorithm</a>.
      // Returns the signature as ArrayBuffer.
      function signUnhashedData(privateKey, input, algorithm) {...}
      
      function handleSignatureRequest(request) {
        // Look up the handle to the private key of |request.certificate|.
        const key = getPrivateKeyHandle(request.certificate);
        if (!key) {
          // Handle if the key isn&apos;t available.
          console.error(&apos;Key for requested certificate no available.&apos;);
      
          // Abort the request by reporting the error to the API.
          chrome.certificateProvider.reportSignature({
            signRequestId: request.signRequestId,
            error: &apos;GENERAL_ERROR&apos;
          });
          return;
        }
      
        const signature = signUnhashedData(key, request.input, request.algorithm);
        chrome.certificateProvider.reportSignature({
          signRequestId: request.signRequestId,
          signature: signature
        });
      }
      
      chrome.certificateProvider.onCertificatesUpdateRequested.addListener(
          handleCertificatesUpdateRequest);
      chrome.certificateProvider.onSignatureRequested.addListener(
          handleSignatureRequest);
      </pre>
    </section>
    <section id="toc">
    <h2>Summary</h2>
    <table class="api-summary">
      <tbody><tr>
        </tr><tr><th colspan="2">Types</th></tr>
          <tr><td><a href="#type-Algorithm">Algorithm</a></td></tr>
          <tr><td><a href="#type-Error">Error</a></td></tr>
          <tr><td><a href="#type-ClientCertificateInfo">ClientCertificateInfo</a></td></tr>
          <tr><td><a href="#type-Hash">Hash</a></td></tr>
          <tr><td><a href="#type-PinRequestErrorType">PinRequestErrorType</a></td></tr>
        <tr><th colspan="2">Methods</th></tr>
        <tr><td><a href="#method-requestPin">requestPin</a> &#x2212;
            <code class="prettyprint">
            chrome.certificateProvider.requestPin(<span>object details</span>, <span>function callback</span>)
            </code>
          </td></tr>
        <tr><td><a href="#method-stopPinRequest">stopPinRequest</a> &#x2212;
            <code class="prettyprint">
            chrome.certificateProvider.stopPinRequest(<span>object details</span>, <span>function callback</span>)
            </code>
          </td></tr>
        <tr><td><a href="#method-setCertificates">setCertificates</a> &#x2212;
            <code class="prettyprint">
            chrome.certificateProvider.setCertificates(<span>object details</span>, <span class="optional">function callback</span>)
            </code>
          </td></tr>
        <tr><td><a href="#method-reportSignature">reportSignature</a> &#x2212;
            <code class="prettyprint">
            chrome.certificateProvider.reportSignature(<span>object details</span>, <span class="optional">function callback</span>)
            </code>
          </td></tr>
        <tr><th colspan="2">Events</th></tr>
          <tr><td><a href="#event-onCertificatesUpdateRequested">onCertificatesUpdateRequested</a></td></tr>
          <tr><td><a href="#event-onSignatureRequested">onSignatureRequested</a></td></tr>
          <tr><td><a href="#event-onCertificatesRequested">onCertificatesRequested</a></td></tr>
          <tr><td><a href="#event-onSignDigestRequested">onSignDigestRequested</a></td></tr>
    </tbody></table>
    </section>
    <section>
      <div class="api-reference">
          <h2 id="types">Types</h2>
            <div>
              <h3 id="type-Algorithm">Algorithm</h3>
              <dd>Types of supported cryptographic signature algorithms.</dd><table>
                <tbody><tr><th>Enum</th></tr>
                <tr><td>
                      <dl>
                        <dt><code>&quot;RSASSA_PKCS1_v1_5_MD5_SHA1&quot;</code></dt>
                        <dd>
                          RSASSA PKCS#1 v1.5 signature algorithm with the MD5-SHA-1 hashing. The extension must not prepend a DigestInfo prefix but only add PKCS#1 padding.
                        </dd>
                      </dl>
                      <dl>
                        <dt><code>&quot;RSASSA_PKCS1_v1_5_SHA1&quot;</code></dt>
                        <dd>
                          RSASSA PKCS#1 v1.5 signature algorithm with the SHA-1 hash function.
                        </dd>
                      </dl>
                      <dl>
                        <dt><code>&quot;RSASSA_PKCS1_v1_5_SHA256&quot;</code></dt>
                        <dd>
                          RSASSA PKCS#1 v1.5 signature algorithm with the SHA-256 hashing function.
                        </dd>
                      </dl>
                      <dl>
                        <dt><code>&quot;RSASSA_PKCS1_v1_5_SHA384&quot;</code></dt>
                        <dd>
                          RSASSA PKCS#1 v1.5 signature algorithm with the SHA-384 hashing function.
                        </dd>
                      </dl>
                      <dl>
                        <dt><code>&quot;RSASSA_PKCS1_v1_5_SHA512&quot;</code></dt>
                        <dd>
                          RSASSA PKCS#1 v1.5 signature algorithm with the SHA-512 hashing function.
                        </dd>
                      </dl>
                      <dl>
                        <dt><code>&quot;RSASSA_PSS_SHA256&quot;</code></dt>
                        <dd>
                          Since Chrome 89. RSASSA PSS signature algorithm with the SHA-256 hashing function, MGF1 mask generation function and the salt of the same size as the hash.
                        </dd>
                      </dl>
                      <dl>
                        <dt><code>&quot;RSASSA_PSS_SHA384&quot;</code></dt>
                        <dd>
                          Since Chrome 89. RSASSA PSS signature algorithm with the SHA-384 hashing function, MGF1 mask generation function and the salt of the same size as the hash.
                        </dd>
                      </dl>
                      <dl>
                        <dt><code>&quot;RSASSA_PSS_SHA512&quot;</code></dt>
                        <dd>
                          Since Chrome 89. RSASSA PSS signature algorithm with the SHA-512 hashing function, MGF1 mask generation function and the salt of the same size as the hash.
                        </dd>
                      </dl>
                </td></tr>
                
              </tbody></table>
            </div>
            <div>
              <h3 id="type-Error">Error</h3>
              <dd>Types of errors that the extension can report.</dd><table>
                <tbody><tr><th>Enum</th></tr>
                <tr><td>
                      <dl>
                        <dt><code>&quot;GENERAL_ERROR&quot;</code></dt>
                        <dd>
                          General error that cannot be represented by other more specific error codes.
                        </dd>
                      </dl>
                </td></tr>
                
              </tbody></table>
            </div>
            <div>
              <h3 id="type-ClientCertificateInfo">ClientCertificateInfo</h3>
              <p class="availability">
                Since Chrome 86.
              </p>
              <table>
                  <tbody><tr><th colspan="3" id="ClientCertificateInfo-properties">properties</th></tr>
                  <tr id="property-ClientCertificateInfo-certificateChain">
                    <td>array of ArrayBuffer</td>
                    <td>
                        certificateChain</td>
                    <td>
                    
                    <p>
                      The array must contain the DER encoding of the X.509 client certificate as its first element. </p><p>This must include exactly one certificate.</p>
                    <p></p></td>
                  </tr><tr id="property-ClientCertificateInfo-supportedAlgorithms">
                    <td>array of     <a href="#type-Algorithm">Algorithm</a></td>
                    <td>
                        supportedAlgorithms</td>
                    <td>
                    
                    <p>
                      All algorithms supported for this certificate. The extension will only be asked for signatures using one of these algorithms.
                    </p></td>
                  </tr>
              </tbody></table>
            </div>
            <div>
              <h3 id="type-Hash">Hash</h3>
              <dd>Deprecated. Replaced by <a href="#type-Algorithm">Algorithm</a>.</dd><table>
                <tbody><tr><th>Enum</th></tr>
                <tr><td>
                        <code>&quot;MD5_SHA1&quot;</code>, 
                        <code>&quot;SHA1&quot;</code>, 
                        <code>&quot;SHA256&quot;</code>, 
                        <code>&quot;SHA384&quot;</code>, 
                        or <code>&quot;SHA512&quot;</code>
                </td></tr>
                
              </tbody></table>
            </div>
            <div>
              <h3 id="type-PinRequestErrorType">PinRequestErrorType</h3>
              <dd>The types of errors that can be presented to the user through the requestPin function.</dd><table>
                <tbody><tr><th>Enum</th></tr>
                <tr><td>
                        <code>&quot;INVALID_PIN&quot;</code>, 
                        <code>&quot;INVALID_PUK&quot;</code>, 
                        <code>&quot;MAX_ATTEMPTS_EXCEEDED&quot;</code>, 
                        or <code>&quot;UNKNOWN_ERROR&quot;</code>
                </td></tr>
                
              </tbody></table>
            </div>
          <h2 id="methods">Methods</h2>
            <div>
              <h3 id="method-requestPin">requestPin
              </h3>
              <div class="summary">
              <code class="prettyprint">
              chrome.certificateProvider.requestPin(<span>object details</span>, <span>function callback</span>)
              </code>
              </div>
              <div class="description">
                <p class="availability">
                  Since Chrome 57.
                </p>
                <p>
                  Requests the PIN from the user. Only one ongoing request at a time is allowed. The requests issued while another flow is ongoing are rejected. It&apos;s the extension&apos;s responsibility to try again later if another flow is in progress.
                </p>
                <table>
                  <tbody><tr><th colspan="3">Parameters</th></tr>
                    <tr id="property-requestPin-details">
                      <td>object</td>
                      <td>
                          details</td>
                      <td>
                      
                      <p>
                        Contains the details about the requested dialog.
                      </p>  <table class="innerTable">
                          <tbody><tr id="property-details-signRequestId">
                            <td>integer</td>
                            <td>
                                signRequestId</td>
                            <td>
                            
                            <p>
                              The ID given by Chrome in SignRequest.
                            </p></td>
                          </tr><tr id="property-details-requestType">
                            <td>enum of    <code>&quot;PIN&quot;</code>,    or <code>&quot;PUK&quot;</code></td>
                            <td><span class="optional">(optional)</span>
                                requestType</td>
                            <td>
                            
                            <p>
                              The type of code requested. Default is PIN.
                            </p></td>
                          </tr><tr id="property-details-errorType">
                            <td>    <a href="#type-PinRequestErrorType">PinRequestErrorType</a></td>
                            <td><span class="optional">(optional)</span>
                                errorType</td>
                            <td>
                            
                            <p>
                              The error template displayed to the user. This should be set if the previous request failed, to notify the user of the failure reason.
                            </p></td>
                          </tr><tr id="property-details-attemptsLeft">
                            <td>integer</td>
                            <td><span class="optional">(optional)</span>
                                attemptsLeft</td>
                            <td>
                            
                            <p>
                              The number of attempts left. This is provided so that any UI can present this information to the user. Chrome is not expected to enforce this, instead stopPinRequest should be called by the extension with errorType = MAX_ATTEMPTS_EXCEEDED when the number of pin requests is exceeded.
                            </p></td>
                          </tr>
                        </tbody></table>
                      </td>
                    </tr>
                    <tr id="property-requestPin-callback">
                      <td>function</td>
                      <td>
                          callback</td>
                      <td>
                      
                      <p>
                        Is called when the dialog is resolved with the user input, or when the dialog request finishes unsuccessfully (e.g. the dialog was canceled by the user or was not allowed to be shown).
                      </p>    <p>
                              The <em>callback</em> parameter should be a function
                              that looks like this:
                          </p>
                        <code class="prettyprint">function(object details) <span class="subdued">{...}</span>;</code>
                          <table class="innerTable">
                            <tbody><tr id="property-callback-details">
                              <td>object</td>
                              <td><span class="optional">(optional)</span>
                                  details</td>
                              <td>
                              
                                <table class="innerTable">
                                  <tbody><tr id="property-details-userInput">
                                    <td>string</td>
                                    <td><span class="optional">(optional)</span>
                                        userInput</td>
                                    <td>
                                    
                                    <p>
                                      The code provided by the user. Empty if user closed the dialog or some other error occurred.
                                    </p></td>
                                  </tr>
                                </tbody></table>
                              </td>
                            </tr>
                          </tbody></table>
                      </td>
                    </tr>
                </tbody></table>
              </div>
            </div>
            <div>
              <h3 id="method-stopPinRequest">stopPinRequest
              </h3>
              <div class="summary">
              <code class="prettyprint">
              chrome.certificateProvider.stopPinRequest(<span>object details</span>, <span>function callback</span>)
              </code>
              </div>
              <div class="description">
                <p class="availability">
                  Since Chrome 57.
                </p>
                <p>
                  Stops the pin request started by the <a href="#method-requestPin">requestPin</a> function.
                </p>
                <table>
                  <tbody><tr><th colspan="3">Parameters</th></tr>
                    <tr id="property-stopPinRequest-details">
                      <td>object</td>
                      <td>
                          details</td>
                      <td>
                      
                      <p>
                        Contains the details about the reason for stopping the request flow.
                      </p>  <table class="innerTable">
                          <tbody><tr id="property-details-signRequestId">
                            <td>integer</td>
                            <td>
                                signRequestId</td>
                            <td>
                            
                            <p>
                              The ID given by Chrome in SignRequest.
                            </p></td>
                          </tr><tr id="property-details-errorType">
                            <td>    <a href="#type-PinRequestErrorType">PinRequestErrorType</a></td>
                            <td><span class="optional">(optional)</span>
                                errorType</td>
                            <td>
                            
                            <p>
                              The error template. If present it is displayed to user. Intended to contain the reason for stopping the flow if it was caused by an error, e.g. MAX_ATTEMPTS_EXCEEDED.
                            </p></td>
                          </tr>
                        </tbody></table>
                      </td>
                    </tr>
                    <tr id="property-stopPinRequest-callback">
                      <td>function</td>
                      <td>
                          callback</td>
                      <td>
                      
                      <p>
                        To be used by Chrome to send to the extension the status from their request to close PIN dialog for user.
                      </p>    <p>
                              The <em>callback</em> parameter should be a function
                              that looks like this:
                          </p>
                        <code class="prettyprint">function() <span class="subdued">{...}</span>;</code>
                      </td>
                    </tr>
                </tbody></table>
              </div>
            </div>
            <div>
              <h3 id="method-setCertificates">setCertificates
              </h3>
              <div class="summary">
              <code class="prettyprint">
              chrome.certificateProvider.setCertificates(<span>object details</span>, <span class="optional">function callback</span>)
              </code>
              </div>
              <div class="description">
                <p class="availability">
                  Since Chrome 86.
                </p>
                <p>
                  Sets a list of certificates to use in the browser. </p><p>The extension should call this function after initialization and on every change in the set of currently available certificates. The extension should also call this function in response to <a href="#event-onCertificatesUpdateRequested">onCertificatesUpdateRequested</a> every time this event is received.</p>
                <p></p>
                <table>
                  <tbody><tr><th colspan="3">Parameters</th></tr>
                    <tr id="property-setCertificates-details">
                      <td>object</td>
                      <td>
                          details</td>
                      <td>
                      
                      <p>
                        The certificates to set. Invalid certificates will be ignored.
                      </p>  <table class="innerTable">
                          <tbody><tr id="property-details-certificatesRequestId">
                            <td>integer</td>
                            <td><span class="optional">(optional)</span>
                                certificatesRequestId</td>
                            <td>
                            
                            <p>
                              When called in response to <a href="#event-onCertificatesUpdateRequested">onCertificatesUpdateRequested</a>, should contain the received <code>certificatesRequestId</code> value. Otherwise, should be unset.
                            </p></td>
                          </tr><tr id="property-details-error">
                            <td>    <a href="#type-Error">Error</a></td>
                            <td><span class="optional">(optional)</span>
                                error</td>
                            <td>
                            
                            <p>
                              Error that occurred while extracting the certificates, if any. This error will be surfaced to the user when appropriate.
                            </p></td>
                          </tr><tr id="property-details-clientCertificates">
                            <td>array of     <a href="#type-ClientCertificateInfo">ClientCertificateInfo</a></td>
                            <td>
                                clientCertificates</td>
                            <td>
                            
                            <p>
                              List of currently available client certificates.
                            </p></td>
                          </tr>
                        </tbody></table>
                      </td>
                    </tr>
                    <tr id="property-setCertificates-callback">
                      <td>function</td>
                      <td><span class="optional">(optional)</span>
                          callback</td>
                      <td>
                      
                      <p>
                        Called upon completion.
                      </p>    <p>
                              If you specify the <em>callback</em> parameter, it should
                              be a function that looks like this:
                          </p>
                        <code class="prettyprint">function() <span class="subdued">{...}</span>;</code>
                      </td>
                    </tr>
                </tbody></table>
              </div>
            </div>
            <div>
              <h3 id="method-reportSignature">reportSignature
              </h3>
              <div class="summary">
              <code class="prettyprint">
              chrome.certificateProvider.reportSignature(<span>object details</span>, <span class="optional">function callback</span>)
              </code>
              </div>
              <div class="description">
                <p class="availability">
                  Since Chrome 86.
                </p>
                <p>
                  Should be called as a response to <a href="#event-onSignatureRequested">onSignatureRequested</a>. </p><p>The extension must eventually call this function for every <a href="#event-onSignatureRequested">onSignatureRequested</a> event; the API implementation will stop waiting for this call after some time and respond with a timeout error when this function is called.</p>
                <p></p>
                <table>
                  <tbody><tr><th colspan="3">Parameters</th></tr>
                    <tr id="property-reportSignature-details">
                      <td>object</td>
                      <td>
                          details</td>
                      <td>
                      
                        <table class="innerTable">
                          <tbody><tr id="property-details-signRequestId">
                            <td>integer</td>
                            <td>
                                signRequestId</td>
                            <td>
                            
                            <p>
                              Request identifier that was received via the <a href="#event-onSignatureRequested">onSignatureRequested</a> event.
                            </p></td>
                          </tr><tr id="property-details-error">
                            <td>    <a href="#type-Error">Error</a></td>
                            <td><span class="optional">(optional)</span>
                                error</td>
                            <td>
                            
                            <p>
                              Error that occurred while generating the signature, if any.
                            </p></td>
                          </tr><tr id="property-details-signature">
                            <td>ArrayBuffer</td>
                            <td><span class="optional">(optional)</span>
                                signature</td>
                            <td>
                            
                            <p>
                              The signature, if successfully generated.
                            </p></td>
                          </tr>
                        </tbody></table>
                      </td>
                    </tr>
                    <tr id="property-reportSignature-callback">
                      <td>function</td>
                      <td><span class="optional">(optional)</span>
                          callback</td>
                      <td>
                      
                          <p>
                              If you specify the <em>callback</em> parameter, it should
                              be a function that looks like this:
                          </p>
                        <code class="prettyprint">function() <span class="subdued">{...}</span>;</code>
                      </td>
                    </tr>
                </tbody></table>
              </div>
            </div>
          <h2 id="events">Events</h2>
            <div>
              <h3 id="event-onCertificatesUpdateRequested">onCertificatesUpdateRequested</h3>
              <div class="description">
                <p class="availability">
                  Since Chrome 86.
                </p>
            <p>
                  This event fires if the certificates set via <a href="#method-setCertificates">setCertificates</a> are insufficient or the browser requests updated information. The extension must call <a href="#method-setCertificates">setCertificates</a> with the updated list of certificates and the received <code>certificatesRequestId</code>.
                </p>      
                  <div>
                    <h4 title>addListener
                    </h4>
                    <div class="summary">
                    <code class="prettyprint">
                    chrome.certificateProvider.onCertificatesUpdateRequested.addListener(<span>function callback</span>)
                    </code>
                    </div>
                    <div class="description">
                      <table class="innerTable">
                        <tbody><tr><th colspan="3">Parameters</th></tr>
                          <tr id="property-onCertificatesUpdateRequested-callback">
                            <td>function</td>
                            <td>
                                callback</td>
                            <td>
                            
                                <p>
                                    The <em>callback</em> parameter should be a function
                                    that looks like this:
                                </p>
                              <code class="prettyprint">function(object request) <span class="subdued">{...}</span>;</code>
                                <table class="innerTable">
                                  <tbody><tr id="property-onCertificatesUpdateRequested-request">
                                    <td>object</td>
                                    <td>
                                        request</td>
                                    <td>
                                    
                                      <table class="innerTable">
                                        <tbody><tr id="property-request-certificatesRequestId">
                                          <td>integer</td>
                                          <td>
                                              certificatesRequestId</td>
                                          <td>
                                          
                                          <p>
                                            Request identifier to be passed to <a href="#method-setCertificates">setCertificates</a>.
                                          </p></td>
                                        </tr>
                                      </tbody></table>
                                    </td>
                                  </tr>
                                </tbody></table>
                            </td>
                          </tr>
                      </tbody></table>
                    </div>
                  </div>
                  
              </div>
            </div>
            <div>
              <h3 id="event-onSignatureRequested">onSignatureRequested</h3>
              <div class="description">
                <p class="availability">
                  Since Chrome 86.
                </p>
            <p>
                  This event fires every time the browser needs to sign a message using a certificate provided by this extension via <a href="#method-setCertificates">setCertificates</a>. </p><p>The extension must sign the input data from <code>request</code> using the appropriate algorithm and private key and return it by calling <a href="#method-reportSignature">reportSignature</a> with the received <code>signRequestId</code>.</p>
                <p></p>      
                  <div>
                    <h4 title>addListener
                    </h4>
                    <div class="summary">
                    <code class="prettyprint">
                    chrome.certificateProvider.onSignatureRequested.addListener(<span>function callback</span>)
                    </code>
                    </div>
                    <div class="description">
                      <table class="innerTable">
                        <tbody><tr><th colspan="3">Parameters</th></tr>
                          <tr id="property-onSignatureRequested-callback">
                            <td>function</td>
                            <td>
                                callback</td>
                            <td>
                            
                                <p>
                                    The <em>callback</em> parameter should be a function
                                    that looks like this:
                                </p>
                              <code class="prettyprint">function(object request) <span class="subdued">{...}</span>;</code>
                                <table class="innerTable">
                                  <tbody><tr id="property-onSignatureRequested-request">
                                    <td>object</td>
                                    <td>
                                        request</td>
                                    <td>
                                    
                                      <table class="innerTable">
                                        <tbody><tr id="property-request-signRequestId">
                                          <td>integer</td>
                                          <td>
                                              signRequestId</td>
                                          <td>
                                          
                                          <p>
                                            Request identifier to be passed to <a href="#method-reportSignature">reportSignature</a>.
                                          </p></td>
                                        </tr><tr id="property-request-input">
                                          <td>ArrayBuffer</td>
                                          <td>
                                              input</td>
                                          <td>
                                          
                                          <p>
                                            Data to be signed. Note that the data is not hashed.
                                          </p></td>
                                        </tr><tr id="property-request-algorithm">
                                          <td>    <a href="#type-Algorithm">Algorithm</a></td>
                                          <td>
                                              algorithm</td>
                                          <td>
                                          
                                          <p>
                                            Signature algorithm to be used.
                                          </p></td>
                                        </tr><tr id="property-request-certificate">
                                          <td>ArrayBuffer</td>
                                          <td>
                                              certificate</td>
                                          <td>
                                          
                                          <p>
                                            The DER encoding of a X.509 certificate. The extension must sign <code>input</code> using the associated private key.
                                          </p></td>
                                        </tr>
                                      </tbody></table>
                                    </td>
                                  </tr>
                                </tbody></table>
                            </td>
                          </tr>
                      </tbody></table>
                    </div>
                  </div>
                  
              </div>
            </div>
            <div>
              <h3 id="event-onCertificatesRequested">onCertificatesRequested</h3>
              <div class="description">
                <p class="availability">
                  <strong>Deprecated</strong> since Chrome 86.
                    Use <a href="#event-onCertificatesUpdateRequested">onCertificatesUpdateRequested</a> instead.
                </p>
            <p>
                  </p><p>This event fires every time the browser requests the current list of certificates provided by this extension. The extension must call <code>reportCallback</code> exactly once with the current list of certificates.</p>
                <p></p>      
                  <div>
                    <h4 title>addListener
                    </h4>
                    <div class="summary">
                    <code class="prettyprint">
                    chrome.certificateProvider.onCertificatesRequested.addListener(<span>function callback</span>)
                    </code>
                    </div>
                    <div class="description">
                      <table class="innerTable">
                        <tbody><tr><th colspan="3">Parameters</th></tr>
                          <tr id="property-onCertificatesRequested-callback">
                            <td>function</td>
                            <td>
                                callback</td>
                            <td>
                            
                                <p>
                                    The <em>callback</em> parameter should be a function
                                    that looks like this:
                                </p>
                              <code class="prettyprint">function(function reportCallback) <span class="subdued">{...}</span>;</code>
                                <table class="innerTable">
                                  <tbody><tr id="property-onCertificatesRequested-reportCallback">
                                    <td>function</td>
                                    <td>
                                        reportCallback</td>
                                    <td>
                                    
                                    <p>
                                      Call this exactly once with the list of certificates that this extension is providing. The list must only contain certificates for which the extension can sign data using the associated private key. If the list contains invalid certificates, these will be ignored. All valid certificates are still registered for the extension. Chrome will call back with the list of rejected certificates, which might be empty.
                                    </p>    <p>
                                            The <em>reportCallback</em> parameter should be a function
                                            that looks like this:
                                        </p>
                                      <code class="prettyprint">function(array of object certificates) <span class="subdued">{...}</span>;</code>
                                        <table class="innerTable">
                                          <tbody><tr id="property-reportCallback-certificates">
                                            <td>array of object</td>
                                            <td>
                                                certificates</td>
                                            <td>
                                            
                                              <h4 title>Properties of each object</h4>
                                              <dl>
                                                <div>
                                                  <table>
                                                      <tbody><tr id="property-certificatesType-certificate">
                                                        <td>ArrayBuffer</td>
                                                        <td>
                                                            certificate</td>
                                                        <td>
                                                        
                                                        <p>
                                                          Must be the DER encoding of a X.509 certificate. Currently, only certificates of RSA keys are supported.
                                                        </p></td>
                                                      </tr><tr id="property-certificatesType-supportedHashes">
                                                        <td>array of     <a href="#type-Hash">Hash</a></td>
                                                        <td>
                                                            supportedHashes</td>
                                                        <td>
                                                        
                                                        <p>
                                                          Must be set to all hashes supported for this certificate. This extension will only be asked for signatures of digests calculated with one of these hash algorithms. This should be in order of decreasing hash preference.
                                                        </p></td>
                                                      </tr>
                                                  </tbody></table>
                                                </div>
                                              </dl>
                                            </td>
                                          </tr>
                                        </tbody></table>
                                    </td>
                                  </tr>
                                </tbody></table>
                            </td>
                          </tr>
                      </tbody></table>
                    </div>
                  </div>
                  
              </div>
            </div>
            <div>
              <h3 id="event-onSignDigestRequested">onSignDigestRequested</h3>
              <div class="description">
                <p class="availability">
                  <strong>Deprecated</strong> since Chrome 86.
                    Use <a href="#event-onSignatureRequested">onSignatureRequested</a> instead.
                </p>
            <p>
                  This event fires every time the browser needs to sign a message using a certificate provided by this extension in reply to an <a href="#event-onCertificatesRequested">onCertificatesRequested</a> event. The extension must sign the data in <code>request</code> using the appropriate algorithm and private key and return it by calling <code>reportCallback</code>. <code>reportCallback</code> must be called exactly once.
                </p>      
                  <div>
                    <h4 title>addListener
                    </h4>
                    <div class="summary">
                    <code class="prettyprint">
                    chrome.certificateProvider.onSignDigestRequested.addListener(<span>function callback</span>)
                    </code>
                    </div>
                    <div class="description">
                      <table class="innerTable">
                        <tbody><tr><th colspan="3">Parameters</th></tr>
                          <tr id="property-onSignDigestRequested-callback">
                            <td>function</td>
                            <td>
                                callback</td>
                            <td>
                            
                                <p>
                                    The <em>callback</em> parameter should be a function
                                    that looks like this:
                                </p>
                              <code class="prettyprint">function(object request, function reportCallback) <span class="subdued">{...}</span>;</code>
                                <table class="innerTable">
                                  <tbody><tr id="property-onSignDigestRequested-request">
                                    <td>object</td>
                                    <td>
                                        request</td>
                                    <td>
                                    
                                    <p>
                                      Contains the details about the sign request.
                                    </p>  <table class="innerTable">
                                        <tbody><tr id="property-request-signRequestId">
                                          <td>integer</td>
                                          <td>
                                              signRequestId</td>
                                          <td>
                                          <p class="availability">
                                            Since Chrome 86.
                                          </p>
                                          
                                          <p>
                                            The unique ID to be used by the extension should it need to call a method that requires it, e.g. requestPin.
                                          </p></td>
                                        </tr><tr id="property-request-digest">
                                          <td>ArrayBuffer</td>
                                          <td>
                                              digest</td>
                                          <td>
                                          
                                          <p>
                                            The digest that must be signed.
                                          </p></td>
                                        </tr><tr id="property-request-hash">
                                          <td>    <a href="#type-Hash">Hash</a></td>
                                          <td>
                                              hash</td>
                                          <td>
                                          
                                          <p>
                                            Refers to the hash algorithm that was used to create <code>digest</code>.
                                          </p></td>
                                        </tr><tr id="property-request-certificate">
                                          <td>ArrayBuffer</td>
                                          <td>
                                              certificate</td>
                                          <td>
                                          
                                          <p>
                                            The DER encoding of a X.509 certificate. The extension must sign <code>digest</code> using the associated private key.
                                          </p></td>
                                        </tr>
                                      </tbody></table>
                                    </td>
                                  </tr>
                                  <tr id="property-onSignDigestRequested-reportCallback">
                                    <td>function</td>
                                    <td>
                                        reportCallback</td>
                                    <td>
                                    
                                    <p>
                                      If no error occurred, this function must be called with the signature of the digest using the private key of the requested certificate. For an RSA key, the signature must be a PKCS#1 signature. The extension is responsible for prepending the DigestInfo prefix and adding PKCS#1 padding. If an <code>MD5_SHA1</code> hash is to be signed, the extension must not prepend a DigestInfo prefix but only add PKCS#1 padding. If an error occurred, this callback should be called without signature.
                                    </p>    <p>
                                            The <em>reportCallback</em> parameter should be a function
                                            that looks like this:
                                        </p>
                                      <code class="prettyprint">function(ArrayBuffer signature) <span class="subdued">{...}</span>;</code>
                                        <table class="innerTable">
                                          <tbody><tr id="property-reportCallback-signature">
                                            <td>ArrayBuffer</td>
                                            <td><span class="optional">(optional)</span>
                                                signature</td>
                                            <td>
                                            
                                            </td>
                                          </tr>
                                        </tbody></table>
                                    </td>
                                  </tr>
                                </tbody></table>
                            </td>
                          </tr>
                      </tbody></table>
                    </div>
                  </div>
                  
              </div>
            </div>
      </div>
    </section>
  </div>
</article>
    </main>
</main></div></body></html>